YUI.add("moodle-availability_stash-form",function(e,t){var n='<label>    <span class="accesshide">{{get_string "condition" "availability_stash"}}</span>    <select name="condition" class="form-control">       {{#each conditions}}           <option value="{{value}}">{{name}}</option>       {{/each}}    </select></label>',r='<label>    <span class="accesshide">{{get_string "quantity" "availability_stash"}}</span>    <input type="number" name="quantity" class="quantity form-control" min="0" value="1"></label>',i='<label>    <span class="accesshide">{{get_string "object" "availability_stash"}}</span>    <select name="object" class="form-control">       {{#each objects}}           <option value="{{id}}">{{name}}</option>       {{/each}}    </select></label>',s={CONDITION:'select[name="condition"]',QUANTITY:'input[name="quantity"]',OBJECT:'select[name="object"]'};M.availability_stash=M.availability_stash||{},M.availability_stash.form=e.merge(M.core_availability.plugin,{_conditions:null,_node:null,_objects:null,initInner:function(e){this._conditions=e.conditions,this._objects=e.objects},_getDefaultNode:function(){var t,s={},o,u;if(!this._node){t=e.Node.create("<div>"),u=template=e.Handlebars.compile(n),s.conditions=u({conditions:this._conditions}),u=template=e.Handlebars.compile(r),s.quantity=u({}),u=template=e.Handlebars.compile(i),s.objects=u({objects:this._objects}),t.setHTML(M.util.get_string("theirstashcontains","availability_stash",s)),this._node=t;var a;e.one(".availability-field")!==null?a=e.one(".availability-field"):a=e.one("#fitem_id_availabilityconditionsjson"),a.delegate("change",function(){M.core_availability.form.update()},".availability_stash select, .availability_stash input")}return this._node.cloneNode(!0)},getNode:function(e){var t=this._getDefaultNode(),n=this._getNodes(t);return typeof e.condition!="undefined"&&n.condition.set("value",e.condition),typeof e.quantity!="undefined"&&n.quantity.set("value",e.quantity),typeof e.objectid!="undefined"&&n.object.set("value",e.objectid),t},_getNodes:function(e){return{condition:e.one(s.CONDITION),quantity:e.one(s.QUANTITY),object:e.one(s.OBJECT)}},fillValue:function(e,t){var n=this._getNodes(t);e.condition=n.condition.get("value"),e.quantity=n.quantity.get("value"),e.objectid=n.object.get("value")},fillErrors:function(e,t){}})},"@VERSION@",{requires:["base","node","event","handlebars","moodle-core_availability-form"]});
